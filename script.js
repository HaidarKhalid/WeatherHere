let cityNamesList = ["Shanghai","Beijing","Shenzhen","Guangzhou","Lagos","Istanbul","Chengdu","Mumbai","São Paulo","Mexico City","Karachi","Tianjin","Delhi","Wuhan","Moscow","Dhaka","Seoul","Dongguan","Cairo","Xi'an","Nanjing","Hangzhou","Foshan","Ho Chi Minh City","London","New York","Jakarta","Bengaluru","Tokyo","Hanoi","Taipei","Kinshasa","Lima","Bogotá","Hong Kong","Chongqing","Baghdad","Qingdao","Tehran","Shenyang","Hyderabad","Rio de Janeiro","Suzhou","Ahmedabad","Abidjan","Lahore","Singapore","Johannesburg","Dar es Salaam","St Petersburg","Alexandria","Harbin","Sydney","Bangkok","Hefei","Melbourne","Dalian","Santiago","Changchun","Cape Town","Jeddah","Chennai","Kolkata","Amoy","Surat","Yangon","Kabul","Wuxi","Giza","Jinan","Taiyuan","Zhengzhou","Riyadh","Kano","Shijiazhuang","Chittagong","Los Angeles","Kunming","Zhongshan","Nanning","Shantou","Yokohama","Fuzhou","Ningbo","Busan","Ibadan","Puyang","Ankara","Dubai City","Shiyan","Berlin","Tangshan","Changzhou","Madrid","Pyongyang","Casablanca","Zibo","Pune","Durban","Bursa","Changsha","Guiyang","Ürümqi","Lanzhou","Caracas","Incheon","Huizhou","Buenos Aires","Surabaya","Haikou","Kanpur","Kyiv","Quito","Luanda","Quezon City","Addis Ababa","Osaka","Nairobi","Linyi","Baoding","Brooklyn","Guayaquil","Belo Horizonte","Salvador","Jaipur","Chicago","Wenzhou","Yunfu","Toronto","Navi Mumbai","Mogadishu","Brisbane","Daegu","Bekasi","Faisalabad","Izmir","Huai'an","Dakar","Lucknow","Bandung","Medan","Fortaleza","Santiago de Cali","Nanchang","Hohhot","Rome","Mashhad","Houston","Kowloon","Shaoxing","Nantong","Borough of Queens","Nagpur","Yantai","Maracaibo","Manaus","Brasília","Zhuhai","Santo Domingo","Perth","Nagoya","Havana","Baotou","Paris","Coimbatore","Kunshan","Al Mawşil al Jadīdah","Depok","Weifang","Zunyi","Al Başrah al Qadīmah","La Paz","Lianyungang","Medellín","Tashkent","Algiers","Ganzhou","Almaty","Khartoum","Sapporo","Accra","Curitiba","Ordos","Sanaa","Tijuana","Beirut","Tangerang","Jieyang","Jilin City","Bucharest","Camayenne","Kakamega","Port Harcourt","Nanchong","Datong","Hamburg","Indore","Santa Cruz","Vadodara","Iztapalapa","Nanyang","Gaziantep","Jiangmen","Benin City","Jiangyin","Adana","Davao City","Fuyang","Conakry","Montreal","Bayan Nur","Maracay","Chaozhou","Rawalpindi","Minsk","Budapest","Qingyuan","Tai’an","León","Warsaw","Soweto","Puebla City","Vienna","Mosul","Kallakurichi","Xining","Changshu","Palembang","Huainan","Rabat","Semarang","Recife","Suzhou","Ecatepec","Lu'an","Barcelona","Valencia","Pretoria","Yancheng","Novosibirsk","Erbil","Phoenix","Taizhou","Daqing","Fukuoka","Aleppo","Manila","Patna","Bhopal","Wuhu","Querétaro City","Dazhou","Yangzhou","Kaduna","Makkah","Philadelphia","Phnom Penh","Guilin","Damascus","Zhaoqing","Onitsha","Mianyang","Isfahan","Ludhiana","Harare","Putian","Shangqiu","Goiânia","Kawasaki","Kobe","Kaohsiung City","Stockholm","Ciudad Juárez","Khulna","Caloocan City","Belém","Yekaterinburg","Gwangju","Porto Alegre","Yinchuan","Manhattan","Taizhou","Asunción","Yiwu","Zapopan","Daejeon","Quanzhou","Kumasi","Madurai","Jinhua","Kyoto","Cixi","Changde","Kuala Lumpur","Kaifeng","Anshan","Karaj","Kathmandu","Baoji","Suqian","Multan","Liuzhou","Tirunelveli","San Antonio","Kharkiv","Zhangjiagang","Agra","Tabriz","Makassar","Jinjiang","Bozhou","Qujing","Zhanjiang","Fushun","San Diego","Antananarivo","Rajkot","Luoyang","Konya","Adelaide","Hyderābād","Guadalajara","Bronx","Gujranwala","Guankou","Lubumbashi","Milan","South Tangerang","Najafgarh","Handan","Kampala","Yichang","Heze","Antalya","Abobo","Jamshedpur","Douala","Basrah","Saitama","Gorakhpur","Liupanshui","Córdoba","Maoming","Dallas","Medina","Callao","Yaoundé","Bamako","Qinzhou","Luohe","Xiangfan","Yangjiang","Nashik","Yixing","Brazzaville","Pimpri","Amman","Sharjah","Budta","Belgrade","Montevideo","Lusaka","Xuchang","Kalyān","Zigong","Thāne","Munich","Nizhny Novgorod","Jepara","Xuzhou","Dammam","Ra’s Bayrūt","Neijiang","Shiraz","Yiyang","Kazan’","Suwon","Jining","Barquisimeto","Shubrā al Khaymah","Abuja","Port-au-Prince","Xinyang","Liaocheng","Jinzhong","Meerut","Nowrangapur","Faridabad","Peshawar","Karbala","Changzhi","Tianshui","Mombasa","Mandalay","Barranquilla","Kayseri","Chelyabinsk","Mérida","Bulawayo","Omdurman","Shymkent","Santiago de los Caballeros","Hiroshima","Weinan","Ghaziabad","Dhanbad","Dombivali","Maputo","Gustavo Adolfo Madero","Jiaxing","Omsk","Guarulhos","Bandar Lampung","Prague","Varanasi","Batam","Jiujiang","Samara","Copenhagen","Sofia","Tripoli","Anyang","Birmingham","Bijie","Monterrey","Kigali","Rostov-on-Don","Zhuzhou","Malingao","Ufa","Ranchi","Baku","Shangrao","Huaibei","Meishan","Ciudad Nezahualcoyotl","Bogor","Sendai","Yerevan","Amritsar","Krasnoyarsk","Fuzhou","Ouagadougou","Guigang","Pekanbaru","Hengyang","Prayagraj","Goyang-si","Vizag","Yulin","Jingzhou","Tbilisi","Voronezh","Xinxiang","Yichun","Taichung","Theni","Xianyang","Mexicali","Matola","Seongnam-si","Maceió","Campinas","Sanya","Rangpur City","Kirkuk","Jabalpur","Comilla","Shaoguan","Howrah","San Jose","Longyan","Dublin","Tiruchi","Yongzhou","Calgary","Brussels","Aurangabad","Huzhou","Odesa","Volgograd","Edmonton","Wuwei","Namangan","Arequipa","Hanzhong","Hezhou","Bujumbura","Shivaji Nagar","Zhu Cheng City","Dongying","Luzhou","Solapur","Guatemala City","Meizhou","Yueyang","Laiwu","Da Nang","Benxi","Perm","Chiba","Pingdingshan","Srinagar","Zaria","Managua","Bengbu","Jerusalem","Dnipro","Port Elizabeth","Fes","Cebu City","Cologne","Tirupur","Ulsan","Chandigarh","Xiangtan","Linfen","Victoria","Jacksonville","Zhenjiang","Ciudad Guayana","Rosario","Sulţānah","Kitakyushu","Monrovia","Kingston","Baoshan","Austin","Rui’an","Chihuahua City","Nay Pyi Taw","Jodhpur","Trujillo","Fort Worth","Salem","São Luís","Cartagena","Laibin","Naples","Padang","Xiaogan","Campo Grande","Columbus","Ziyang","Bobo-Dioulasso","Salé","Quzhou","Petaling Jaya","Donetsk","Abu Ghraib","Qom","Bishkek","Zaozhuang","Krasnodar","Guwahati","Aba","Natal","Pingxiang","Indianapolis","Zhoushan","Gwalior","Qiqihar","Klang","Sulaymaniyah","Puning","Mbuji-Mayi","Vijayawada","Charlotte","Pikine","Bhiwandi","Teresina","Marseille","Ankang","Mysore","Langfang","Jiaozuo","San Francisco","Liverpool","Aden","Rohini","Wanxian","Guang’an","Johor Bahru","Kanayannur","Tegucigalpa","Bucheon-si","Turin","Al Ain City","Cheongju-si","Saratov","Ulaanbaatar","Weihai","Takeo","Malang","Haiphong","Cochabamba","Ahvāz","Hubli","Ipoh","Zhabei","Xinyu","Marrakesh","Yibin","Kampung Baru Subang","Bouaké","Samarinda","Taicang","Biên Hòa","Nova Iguaçu","Chenzhou","Duque de Caxias","João Pessoa","Jos","Barcelona","Ilorin","Hermosillo","Ottawa","Can Tho","Culiacán","Benghazi","Anking","Freetown","San Pedro Sula","Narela","Xingtai","Niigata","Muscat","Zarqa","Naucalpan","Çankaya","Hamamatsu","Valencia","Rahim Yar Khan","Pasragad Branch","Zhaotong","Panzhihua","Boumerdas","Jalandhar","Trivandrum","Chuzhou","Sakai","Port Said","Cotonou","Cúcuta","Homs","Xuanzhou","Niamey","Tainan City","Shangyu","Lodz","Tyumen","Kahrīz","Anshun","Rajshahi","Kota","Bhubaneswar","Wuzhou","Qinhuangdao","Maiduguri","Krakow","Aligarh","Shaoyang","Pietermaritzburg","Lomé","Winnipeg","Bağcılar","Bareilly","Buraidah","São Bernardo do Campo","Hegang","Morelia","Nampula","Riga","Amsterdam","Ma’anshan","Shah Alam","Kumamoto","Seattle","Oyo","Torreón","Deyang","Quetta","Yangquan","São José dos Campos","Ashgabat","Álvaro Obregón","Denpasar","Muzaffarabad","Wanzhou","San Luis Potosí City","Aguascalientes","Zhumadian","Morādābād","N'Djamena","Okayama","Lviv","Ansan-si","Denver","Ribeirão Preto","Zaporizhzhya","Saltillo","Subang Jaya","Tolyatti","Jaboatão","Santo Domingo Oeste","Battagram City","Santo Domingo Este","Suez","Changzhi","Zagreb","Agadir","Sarajevo","Balikpapan","Bauchi","Tunis","Zhangjiakou","Serang","Shizuoka","Paranaque City","Washington","Nashville","Fuxin","Enugu","Ta'if","Tangier","Huangshi","Liaoyang","Sorocaba","Baise City","Situbondo","Seville","Binzhou","El Paso","Oklahoma City","Yuncheng","Raipur","General Santos","Dezhou","Dushanbe","Osasco","Detroit","Boston","Zaragoza","Gorakhpur","Guadalupe","Acapulco de Juárez","Sanmenxia","E’zhou","Mississauga","Madīnat an Naşr","Tabuk","Cheonan","Mudanjiang","Aracaju","Athens","Leshan","Santo André","Rizhao","Nouakchott","Pointe-Noire","Helsinki","Pontianak","Banjarmasin","Puducherry","Suining","Puyang","Tlalnepantla","Portland","Jeonju","Frankfurt am Main","Macao","Palermo","Izhevsk","Colombo","Maturín","Lilongwe","Oran","Diyarbakır","Funabashi","Taguig","New South Memphis","Hwaseong-si","Gold Coast","Kotli","Al Ahmadi","Cuenca","Chișinău","Wroclaw","Hebi","Tébessa","Memphis","Jingmen","Barnaul","Dandong","Stuttgart","Jaboatão dos Guararapes","Cancún","Contagem","Ulyanovsk","Glasgow","Bhilai","Panshan","Djibouti","Irkutsk","Las Vegas","Al Mansurah","Kermanshah","Düsseldorf","Coyoacán","Feira de Santana","Jiaozhou","Suizhou","Villa Nueva","Khabarovsk","Cuiabá","Al Hudaydah","Pasig","Chizhou","Taiz","Santa María Chimalhuacán","Ya'an","Borivali","Yaroslavl","Kawaguchi","Jambi City","Ha'il","Bhavnagar","Benoni","Vladivostok","Kochi","Jinzhou","Tuxtla Gutiérrez","Kryvyi Rih","Amravati","Abu Dhabi","Sanming","Islamabad","Sangli","Milwaukee","Shuangyashan","Vancouver","Rotterdam","Kleinzschocher","Großzschocher","Luancheng","Makhachkala","Anyang-si","Kagoshima","Rasht","Brampton","Mar del Plata","Abeokuta","Essen","Al Maḩallah al Kubrá","Newchwang","Las Piñas","Zhangzhou","Reynosa","Thuận An","Dortmund","Londrina","Gothenburg","Blantyre","New Kingston","Scutari","Bucaramanga","Genoa","Cuttack","Oslo","Malacca","Málaga","Khabarovsk Vtoroy","Libreville","Kerman","Urmia","Bahçelievler","Tanta","Baltimore","Bikaner","Tlaquepaque","Tlalpan","Herat","Tomsk","Juiz de Fora","Umraniye","Shihezi","South Boston","Poznan","Irbid","Kota Bharu","Cimahi","Puente Alto","Mukalla","Nyala","Orenburg","Bokaro","Asmara","Sokoto","Uberlândia","Hachiōji","Wenchang","Albuquerque","Hamhung","Kemerovo","Nasiriyah","Warangal","Sheffield","Dresden","Bloemfontein","Santiago de Cuba","Siping","Huaihua","Bahawalpur","Chiclayo","Zahedan","Gimhae","Nanded","Kozhikode","Changwon","Pristina","Jiamusi","Antipolo City","Korla","Porto Velho","Tucumán","Kuantan","Sebastopol","Bremen","Wanning","Meknes","Xinzhou","Banciao","Sargodha","Bangui","Vilnius","Pingdu","Calamba","Novokuznetsk","Kisangani","Ryazan","Ji’an","Mersin","Raurkela","Warri","Guli","Aksu","Ebute Ikorodu","Tanggu","Astrakhan","Beira","Québec","Cuauhtémoc","Shangluo","Tucson","Guntur","Ibagué","Antwerp","Touba","Assiut","Hamadan","Qionghai","Cangzhou","Homyel","San Salvador","Himeji","Beihai","Penza","Kandahar","Mazari Sharif","Lyon","Surakarta","Hengshui","Dehradun","Erode","Salta","Bhayandar","Esenler","Fresno","Hamilton","Al Fayyum","Durgapur","Durango","Ajmer","Lisbon","Ulhasnagar","Guangyuan","Leeds","Kolhāpur","Siliguri","Nuremberg","Hanover","Eskişehir","Āzādshahr","Samarkand","Macapá","Xianning","Tembisa","Campos dos Goytacazes","Bilimora","Aparecida de Goiânia"];
let cityLngList = [
    "121.45806","116.39723","114.0683","113.25","3.39467","28.94966","104.06667","72.88261","-46.63611","-99.12766","67.0104","117.17667","77.23149","114.26667","37.61556","90.40744","126.9784","113.74866","31.24967","108.92861","118.77778","120.16142","113.13148","106.62965","-0.12574","-74.00597","106.84513","77.59369","139.69171","105.84117","121.53185","15.31357","-77.02824","-74.08175","114.17469","106.55771","44.40088","120.38042","51.42151","123.43278","78.45636","-43.18223","120.59538","72.58727","-4.00167","74.35071","103.85007","28.04363","39.26951","30.31413","29.91582","126.65","151.20732","100.50144","117.28083","144.96332","121.60222","-70.64827","125.32278","18.42322","39.18624","80.27847","88.36304","118.08187","72.83023","96.15611","69.17233","120.28857","31.20861","116.99722","112.56028","113.64861","46.72185","8.51672","114.47861","91.83168","-118.24368","102.71833","113.37912","108.31667","116.71479","139.65","119.30611","121.54945","129.03004","3.90591","119.88872","32.85427","55.30927","110.77806","13.41053","118.18333","119.95401","-3.70256","125.75432","-7.61138","118.06333","73.85535","31.0292","29.06013","112.97087","106.71667","87.60046","103.83987","-66.87919","126.70515","114.41523","-58.37723","112.75083","110.34167","80.34975","30.5238","-78.52495","13.23432","121.0509","38.74689","135.50218","36.81667","118.34278","115.49028","-73.94958","-79.88621","-43.93778","-38.49096","75.78781","-87.65005","120.66682","112.03809","-79.4163","73.01582","45.34375","153.02809","128.59111","106.9896","73.08969","27.13838","119.01917","-17.44406","80.92313","107.60694","98.66667","-38.54306","-76.5225","115.85306","111.65222","12.51133","59.60567","-95.36327","114.18333","120.57864","120.87472","-73.83652","79.08491","121.44081","-71.61245","-60.025","-47.92972","113.56778","-69.89232","115.8614","136.90641","-82.38304","109.84389","2.3488","76.96612","120.95431","43.10555","106.81861","119.10194","106.90722","47.81507","-68.15","119.21556","-75.56359","69.21627","3.08746","114.9326","76.91667","32.53241","141.35","-0.1969","-49.27306","109.78157","44.20667","-117.00371","35.50157","106.63","116.36581","126.56028","26.10626","-13.68778","34.75229","7.0134","106.08473","113.29139","9.99302","75.8333","-63.18117","73.20812","-99.06224","112.53278","37.3825","113.08333","5.62575","120.26302","35.32531","125.61278","115.81667","-13.67729","-73.58781","107.38599","-67.59113","116.62262","73.0479","27.56667","19.04045","113.03333","117.12","-101.67374","21.01178","27.85849","-98.20346","16.37208","43.11889","78.95925","101.75739","120.74221","104.7458","116.99694","-6.83255","110.42083","-34.88111","116.97889","-99.06064","116.51688","2.15899","-68.00765","28.18783","120.1573","82.9346","44.01193","-112.07404","119.90812","125","130.41667","37.16117","120.9822","85.13563","77.40289","118.37351","-100.38806","107.46308","119.43583","7.43879","39.82563","-75.16362","104.91601","110.29639","36.29128","112.46091","6.78569","104.68168","51.67462","75.85379","31.05337","119.01028","115.65","-49.25389","139.71722","135.183","120.31333","18.06871","-106.46084","89.56439","120.96788","-48.50444","60.6122","126.91556","-51.23019","106.27306","-73.96625","121.43312","-57.647","120.07676","-103.38479","127.38493","118.58583","-1.62443","78.11953","119.64421","135.75385","121.2457","111.69844","101.68653","114.30742","122.99","50.99155","85.3206","107.23705","118.29583","71.47824","109.40698","77.6838","-98.49363","36.25272","120.53889","78.01667","46.2919","119.43194","118.57415","115.77028","103.78333","110.38749","123.94363","-117.16472","47.53613","70.79322","112.45361","32.48464","138.59863","68.37366","-103.39182","-73.86641","74.18705","113.62709","27.47938","9.18951","106.71789","76.97982","114.48764","32.58219","111.28472","115.47358","30.69556","-4.0159","86.18545","9.70428","47.7804","139.65657","75.67206","104.83333","-64.18105","110.91364","-96.80667","39.61417","-77.11814","11.51667","-8","108.65061","114.04272","112.14479","111.96272","73.79096","119.82016","15.28318","73.80696","35.94503","55.41206","124.43972","20.46513","-56.18816","28.28713","113.86299","73.13554","104.77689","72.96355","11.57549","44.00205","110.671","117.28386","50.10326","35.48333","105.06216","52.53113","112.32833","49.12214","127.00889","116.58139","-69.35703","31.25053","7.49508","-72.33881","114.06556","116.00247","112.75471","77.70636","82.54826","77.31316","71.57849","44.02488","113.10528","105.74238","39.66359","96.08359","-74.78132","35.48528","61.42915","-89.61696","28.58333","32.47773","69.6","-70.69703","132.45","109.50891","77.43915","86.42992","73.08333","32.58322","-99.11075","120.75","73.36859","-46.53333","105.26111","14.42076","83.01041","104.02491","116.00206","50.15","12.56553","23.32415","13.18733","114.38278","-1.89983","105.28627","-100.31847","30.05885","39.72328","113.15","124.475","55.96779","85.3094","49.89201","117.94287","116.79167","103.83696","-99.01483","106.78917","140.86667","44.51361","74.87534","92.86717","116.33333","-1.53388","109.59472","101.44167","112.61888","81.84322","126.835","83.20161","110.14686","112.19028","44.83368","39.1843","113.80151","114.4","120.6839","77.47772","108.70261","-115.45446","32.45889","127.13778","-35.73528","-47.06083","109.505","89.25166","44.39222","79.95006","91.18503","113.58333","88.31857","-121.89496","117.01775","-6.24889","78.69651","111.61306","-114.08529","4.34878","75.34226","120.0933","30.74383","44.50183","-113.46871","102.63202","71.67257","-71.535","107.02214","111.56675","29.36142","73.85263","119.40259","118.49165","105.42575","75.91044","-90.51327","116.11768","113.09481","117.65694","108.22083","123.765","56.25017","140.11667","113.30119","74.80555","7.7227","-86.2504","117.36083","35.21633","35.04066","25.61494","-5.00028","123.89071","6.95","77.35456","129.31667","76.7884","112.9","111.51889","114.14417","-81.65565","119.45508","-62.64102","-60.63932","39.58572","130.85034","-10.7969","-76.79358","99.16366","-97.74306","120.65859","-106.08889","96.12972","73.00594","-79.02998","-97.32085","78.15538","-44.30278","-75.51444","109.22222","14.26811","100.35427","113.92221","-54.64639","-82.99879","104.64811","-4.2979","-6.79846","118.86861","101.60671","37.80224","44.18477","50.8764","74.59","117.55417","38.97603","91.7458","7.36667","-35.20944","113.85353","-86.15804","122.20488","78.17337","123.96154","101.44333","45.4329","116.16869","23.58979","80.6466","-80.84313","-17.39071","73.05881","-42.80194","5.38107","109.01722","76.63925","116.69472","113.23306","-122.41942","-2.97794","45.03667","77.06778","108.37407","106.63696","103.7578","76.26667","-87.20681","126.78306","7.68682","55.76056","127.48972","46.00861","106.88324","122.11356","104.78498","112.6304","106.68345","-66.1568","48.6842","75.13378","101.0829","121.45972","114.93335","-7.99994","104.63994","101.53333","-5.03031","117.14583","121.09389","106.82432","-43.45111","113.03333","-43.31167","-34.86306","8.89212","-64.68618","4.54214","-110.97732","-75.69812","105.78825","-107.38782","20.06859","117.04723","-13.2356","-88.025","77.09288","114.49417","139.00589","58.40778","36.08796","-99.23963","32.86268","137.73333","-0.37739","70.30345","48.47168","103.71667","101.71276","3.47717","75.57917","76.94924","118.29778","135.46667","32.3019","2.41833","-72.50782","36.72339","118.75528","2.1098","120.21333","120.87111","19.47395","65.52722","47.0553","105.93333","88.60114","75.83907","85.83385","111.28848","119.58833","13.15712","19.93658","78.07464","111.46214","30.39278","1.22154","-97.14704","28.85671","79.43167","43.97497","-46.565","130.29033","-101.18443","39.2666","24.10589","4.88969","118.51008","101.53281","130.69181","-122.33207","3.93235","-103.41898","104.38198","67.00141","113.56333","-45.88694","58.38333","-99.20329","115.21667","73.47082","108.39586","-100.97916","-102.28259","114.02944","78.77684","15.0444","133.93333","24.02324","126.82194","-104.9847","-47.81028","35.11714","-101.0053","101.58062","49.3461","-35.00139","-70","73.02329","-69.85707","32.52627","111.73861","15.97798","-9.59815","18.35644","116.82887","9.84388","10.16579","114.87139","106.15417","138.38333","121.01749","-77.03637","-86.78444","121.65889","7.49883","40.41583","-5.79975","115.04814","123.17306","-47.45806","106.62684","114.00976","-5.97317","118.01667","-106.48693","-97.51643","110.99278","81.63333","125.17167","116.36706","68.77905","-46.79167","-83.04575","-71.05977","-0.87734","83.36889","-100.25646","-99.90891","111.18139","114.88655","-79.6583","31.3","36.57151","127.1522","129.62594","-37.07167","23.72784","103.76386","-46.53833","119.52908","-15.9785","11.86352","24.93545","109.325","114.59075","79.82979","105.57332","115.01721","-99.19538","-122.67621","127.14889","8.68417","113.54611","13.3636","53.20448","79.84868","-63.18323","33.78725","-0.63588","40.21721","139.98648","121.0792","-90.05676","126.8169","153.43088","73.9022","48.08389","-79.00453","28.8575","17.03333","114.1925","8.12417","-90.04898","112.20472","83.76361","124.39472","9.17702","-35.01472","-86.84656","-44.05361","48.38657","-4.25763","81.4285","122.04944","43.14503","104.29639","-115.13722","31.38069","47.065","6.77616","-99.16174","-38.96667","120.00333","113.36306","-90.58544","135.08379","-56.09667","42.95452","121.0614","117.47783","44.02091","-98.95038","102.999","72.85976","39.87368","139.71072","103.61667","41.69073","72.15331","28.32078","131.87353","76.26022","121.14167","-93.11308","33.39404","77.75","54.39696","117.61861","73.04329","74.56417","-87.90647","131.13273","-123.11934","4.47917","12.31979","12.32322","114.65167","47.50236","126.92694","130.55","49.58862","-79.76633","-57.5562","3.34509","7.01228","31.1669","122.23176","120.98278","117.65556","-98.28835","106.71428","7.466","-51.16278","11.96679","35.00854","-76.78319","29.01366","-73.1198","8.94439","85.87927","10.74609","102.2405","-4.42034","135.13329","9.45356","57.07879","45.07605","28.8598","31.00192","-76.61219","73.31495","-103.29327","-99.16206","62.19967","84.97437","-43.35028","29.12476","86.03694","-71.04949","16.92993","35.85","102.24333","107.5425","-70.57577","49.12424","24.88069","55.0988","86.15161","38.93184","5.24322","-48.27722","139.32389","110.80279","-106.65114","127.53639","86.08333","46.25726","79.58333","-1.4659","13.73832","26.214","-75.82667","124.37785","110.00404","71.6752","-79.84088","60.8629","128.88111","77.31497","75.7804","128.68111","21.16688","130.31118","121.12251","86.15231","-63.90389","-65.2226","103.326","33.52134","8.80717","110.3841","-5.54727","112.73333","121.46719","72.67418","18.55496","25.2798","119.94639","121.16528","87.1099","25.19099","39.6916","114.97927","34.63886","84.86414","5.75006","120.03308","80.27921","3.48818","117.64694","48.04076","34.83889","-71.21454","-99.14612","109.93056","-110.92648","80.45729","-75.23222","4.40026","-15.88333","31.18368","48.51456","110.46417","116.86667","30.9754","-89.18718","134.7","109.11549","45.00464","65.71013","67.11087","4.84671","110.83167","115.70111","78.03392","77.72741","-65.41166","72.85107","28.87619","-119.77237","-79.84963","30.8418","87.30801","-104.65756","74.63867","-9.13333","73.15","105.823","-1.54785","74.23167","88.42851","11.07752","9.73322","30.52056","48.57011","66.95972","-51.06639","114.32201","28.2268","-41.33044","72.96134","-49.24389"];
let cityLatList = ["31.22222","39.9075","22.54554","23.11667","6.45407","41.01384","30.66667","19.07283","-23.5475","19.42847","24.8608","39.14222","28.65195","30.58333","55.75222","23.7104","37.566","23.01797","30.06263","34.25833","32.06167","30.29365","23.02677","10.82302","51.50853","40.71427","-6.21462","12.97194","35.6895","21.0245","25.04776","-4.32758","-12.04318","4.60971","22.27832","29.56026","33.34058","36.06488","35.69439","41.79222","17.38405","-22.90642","31.30408","23.02579","5.35444","31.558","1.28967","-26.20227","-6.82349","59.93863","31.20176","45.75","-33.86785","13.75398","31.86389","-37.814","38.91222","-33.45694","43.88","-33.92584","21.49012","13.08784","22.56263","24.47979","21.19594","16.80528","34.52813","31.56887","30.00944","36.66833","37.86944","34.75778","24.68773","12.00012","38.04139","22.3384","34.05223","25.03889","22.52306","22.81667","23.36814","35.43333","26.06139","29.87819","35.10168","7.37756","29.45679","39.91987","25.07725","32.6475","52.52437","39.63333","31.77359","40.4165","39.03385","33.58831","36.79056","18.51957","-29.8579","40.19559","28.19874","26.58333","43.80096","36.05701","10.48801","37.45646","23.11147","-34.61315","-7.24917","20.04583","26.46523","50.45466","-0.22985","-8.83682","14.6488","9.02497","34.69374","-1.28333","35.06306","38.85111","40.6501","-2.19616","-19.92083","-12.97563","26.91962","41.85003","27.99942","22.92787","43.70011","19.03681","2.03711","-27.46794","35.87028","-6.2349","31.41554","38.41273","33.58861","14.6937","26.83928","-6.92222","3.58333","-3.71722","3.43722","28.68396","40.81056","41.89193","36.29807","29.76328","22.31667","30.00237","32.03028","40.68149","21.14631","37.47649","10.66663","-3.10194","-15.77972","22.27694","18.47186","-31.95224","35.18147","23.13302","40.6516","48.85341","11.00555","31.37762","36.33271","-6.4","36.71","27.68667","30.50316","-16.5","34.59845","6.25184","41.26465","36.73225","25.84664","43.25","15.55177","43.06667","5.55602","-25.42778","39.6086","15.35472","32.5027","33.89332","-6.17806","23.5418","43.85083","44.43225","9.535","0.28422","4.77742","30.79508","40.09361","53.55073","22.71792","-17.78629","22.29941","19.35529","32.99472","37.05944","22.58333","6.33815","31.91102","36.98615","7.07306","32.9","9.53795","45.50884","40.74143","10.23535","23.65396","33.59733","53.9","47.49835","23.7","36.18528","21.12908","52.22977","-26.26781","19.03793","48.20849","36.335","11.73379","36.62554","31.64615","-2.91673","32.62639","34.01325","-6.99306","-8.05389","33.63611","19.60492","31.73561","41.38879","10.16202","-25.74486","33.3575","55.0415","36.18333","33.44838","32.49069","46.58333","33.6","36.20124","14.6042","25.59408","23.25469","31.33728","20.58806","31.2106","32.39722","10.52641","21.42664","39.95238","11.56245","25.28022","33.5102","23.04893","6.14978","31.46784","32.65246","30.91204","-17.82772","25.43944","34.45","-16.67861","35.52056","34.6913","22.61626","59.32938","31.72024","22.80979","14.64953","-1.45583","56.8519","35.15472","-30.03283","38.46806","40.78343","28.66266","-25.28646","29.31506","20.72356","36.34913","24.91389","6.68848","9.919","29.10678","35.02107","30.1764","29.03205","3.1412","34.7986","41.12361","35.83266","27.70169","34.36775","33.94917","30.19679","24.32405","8.72742","29.42412","49.98081","31.865","27.18333","38.08","-5.14861","24.81978","33.87722","25.48333","21.23391","41.88669","32.71571","-18.91368","22.29161","34.68361","37.87135","-34.92866","25.39242","20.66682","40.84985","32.15567","28.15861","-11.66089","45.46427","-6.28862","28.60922","36.60999","0.31628","30.71444","35.23929","36.90812","5.41613","22.80278","4.04827","30.50852","35.90807","29.44768","26.59444","-31.4135","21.66625","32.78306","24.46861","-12.05659","3.86667","12.65","21.98247","33.56394","32.0422","21.85563","19.99727","31.36059","-4.26613","18.62292","31.95522","25.33737","7.20417","44.80401","-34.90328","-15.40669","34.03189","19.2437","29.34162","19.19704","48.13743","56.32867","-6.5924","34.20442","26.43442","33.9","29.58354","29.61031","28.58917","55.78874","37.29111","35.405","10.0647","30.12511","9.05785","18.54349","32.12278","36.45064","37.68403","28.98002","19.23114","28.41124","34.008","32.61603","36.18389","34.57952","-4.05466","21.97473","10.96854","38.73222","55.15402","20.97537","-20.15","15.64453","42.3","19.4517","34.4","34.50355","28.66535","23.79759","19.21667","-25.96553","19.49392","30.7522","54.99244","-23.46278","-5.42917","50.08804","25.31668","1.14937","29.70475","53.20007","55.67594","42.69751","32.88743","36.096","52.48142","27.30193","25.67507","-1.94995","47.23135","27.83333","7.16083","54.74306","23.34316","40.37767","28.45179","33.97444","30.04392","19.40061","-6.59444","38.26667","40.18111","31.62234","56.01839","27.95999","12.36566","23.11603","0.51667","26.88946","25.44478","37.65639","17.68009","22.6305","30.35028","41.69411","51.67204","35.19033","27.83333","24.1469","10.01115","34.33778","32.62781","-25.96222","37.43861","-9.66583","-22.90556","18.24306","25.74664","35.46806","23.16697","23.46186","24.8","22.57688","37.33939","25.07485","53.33306","10.8155","26.42389","51.05011","50.85045","19.87757","30.8703","46.48572","48.71939","53.55014","37.92672","40.9983","-16.39889","33.07507","24.40357","-3.38193","18.53017","35.99502","37.46271","28.8903","17.67152","14.64072","24.28859","29.37455","36.19278","16.06778","41.28861","58.01046","35.6","33.73847","34.08565","11.11128","12.13282","32.94083","31.76904","48.46664","-33.96109","34.03313","10.31672","50.93333","11.11541","35.53722","30.73629","27.85","36.08889","22.2875","30.33218","32.21086","8.35122","-32.94682","24.49258","33.85181","6.30054","17.99702","25.11626","30.26715","27.77605","28.63528","19.745","26.26841","-8.11599","32.72541","11.65376","-2.52972","10.39972","23.74743","40.85216","-0.94924","30.92689","-20.44278","39.96118","30.12108","11.17715","34.0531","28.95944","3.10726","48.023","33.30563","34.6401","42.87","34.86472","45.04484","26.1844","5.10658","-5.795","27.61672","39.76838","29.98869","26.22983","47.33922","3.03667","35.56496","23.31072","-6.13603","16.50745","35.22709","14.76457","19.30023","-5.08917","43.29695","32.68","12.29791","39.50972","35.23972","37.77493","53.41058","12.77944","28.74322","30.81601","30.47413","1.4655","9.96667","14.0818","37.49889","45.07049","24.19167","36.63722","51.54056","47.90771","37.50914","10.99081","-7.9797","20.86481","-17.3895","31.31901","15.34776","4.5841","31.25861","27.80429","31.63416","28.7593","3.15","7.69385","-0.49167","31.44778","10.94469","-22.75917","25.8","-22.78556","-7.115","9.92849","10.13625","8.49664","29.1026","45.41117","10.03711","24.79032","32.11486","30.51365","8.48714","15.50417","28.85267","37.06306","37.88637","23.58413","32.07275","19.47851","39.9179","34.7","39.46975","28.41987","34.77772","27.31667","26.58509","36.76639","31.32556","8.4855","32.32194","34.58333","31.26531","6.36536","7.89391","34.72682","30.9525","13.51366","22.99083","30.01556","51.77058","57.15222","34.3838","26.25","24.374","25.18254","20.27241","23.48054","39.93167","11.84692","50.06143","27.88145","27.23818","-29.61679","6.12874","49.8844","41.03903","28.36678","26.32599","-23.69389","47.34727","19.70078","-15.11646","56.946","52.37403","31.68579","3.08507","32.80589","47.60621","7.85367","25.54389","31.13019","30.18414","37.8575","-23.17944","37.95","19.35867","-8.65","34.37002","30.76451","22.14982","21.88234","32.97944","28.83893","12.10672","34.65","49.83826","37.32361","39.73915","-21.1775","47.85167","25.42321","3.04384","53.5303","-8.18028","18.5","34.67719","18.48847","29.97371","35.20889","45.81444","30.42018","43.84864","-1.26753","10.31032","36.81897","40.78341","-6.11528","34.98333","14.48156","38.89511","36.16589","42.01556","6.44132","21.27028","35.76727","30.24706","41.27194","-23.50167","23.89013","-7.70623","37.38283","37.36667","31.75872","35.46756","35.02306","21.23333","6.11278","37.44661","38.53575","-23.5325","42.33143","42.35843","41.65606","26.76628","25.67678","16.84942","34.77472","30.39607","43.5789","30.06667","28.3998","36.8065","44.54804","-10.91111","37.98376","29.56227","-23.66389","35.41414","18.08581","-4.77609","60.16952","-0.03194","-3.31987","11.93381","30.50802","35.76318","19.54005","45.52345","35.82194","50.11552","22.20056","38.1166","56.84976","6.93548","9.74569","-13.96692","35.69906","37.91363","35.70129","14.5243","35.08676","37.20682","-28.00029","33.51836","29.07694","-2.90055","47.00556","51.1","35.89917","35.40417","35.14953","31.03361","53.36056","40.12917","48.78232","-8.11278","21.17429","-19.93167","54.32824","55.86515","21.20919","41.18806","11.58901","52.29778","36.17497","31.03637","34.31417","51.22172","19.3467","-12.26667","36.28389","31.71111","14.52512","48.48271","-15.59611","14.79781","14.58691","30.66134","13.57952","19.42155","29.98521","19.23496","57.62987","35.80521","-1.6","27.52188","21.76287","-26.18848","43.10562","9.93988","41.10778","16.75973","47.90572","20.93333","24.45118","26.24861","33.72148","16.85438","43.0389","46.67686","49.24966","51.9225","51.31568","51.30147","37.87917","42.97638","37.3925","31.56667","37.27611","43.68341","-38.00042","7.15571","51.45657","30.97063","40.66472","14.45056","24.51333","26.08061","10.9239","51.51494","-23.31028","57.70716","-15.78499","18.00747","41.02274","7.12539","44.40478","20.46497","59.91273","2.196","36.72016","48.43776","0.39241","30.28321","37.55274","41.00231","30.78847","39.29038","28.01762","20.64091","19.29513","34.34817","56.49771","-21.76417","41.01643","44.3023","42.33343","52.40692","32.55556","6.12361","-6.87222","-33.61169","14.54248","12.04888","51.7727","23.66934","15.33805","13.06269","-18.91861","35.65583","19.55158","35.08449","39.91833","55.33333","31.05799","18","53.38297","51.05089","-29.12107","20.02083","43.16143","27.56337","29.39779","-6.77137","29.4963","35.23417","19.16023","11.24802","35.22806","42.67272","46.79711","14.62578","41.76055","-8.76194","-26.82414","3.8077","44.60795","53.07582","18.79931","33.89352","38.40917","25.01427","32.08586","4.36122","54.68916","36.78444","14.21167","53.7557","0.51528","54.6269","27.11716","36.81196","22.22496","5.51737","28.88162","41.18418","6.60086","39.02111","46.34968","-19.84361","46.81228","19.44506","33.86667","32.22174","16.29974","4.43889","51.22047","14.85","27.18096","34.79922","19.2425","38.31667","52.4345","13.68935","34.81667","21.48349","53.20066","31.61332","36.70904","45.74846","-7.55611","37.73222","30.32443","11.3428","-24.7859","19.30157","41.0435","36.74773","43.25011","29.30995","23.51583","24.02032","26.4521","38.71667","19.21667","32.44201","53.79648","16.69563","26.71004","49.45421","52.37052","39.77667","34.79049","39.65417","0.03889","29.84347","-25.99636","-21.75227","20.76957","-16.82333"];
//get current lat and lon and send it to getCity Function 
function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else { 
      console.log("Geolocation is not supported by this browser.");
    }
  }
  
  function showPosition(position) {
    let l = position.coords.latitude
    let lo = position.coords.longitude
    getCity(null, l,lo)
  }
  
  function showError(error) {
    // Set the default city as london
    let l = 51.507351
    let lo = -0.127758
    getCity(null, l,lo)
  }

let lowerCaseNames = []
let filterdList = []
async function getCitiesArrays() {
        for (let i in cityNamesList) {
            lowerCaseNames.push(cityNamesList[i].toLowerCase())
        filterdList = lowerCaseNames
        document.querySelector('.loading-screen').style.display = "none"
    }
    getLocation()
}
getCitiesArrays()

// function when key searched
let expectUl = document.querySelector('.expectUl')
function searchBtn(event) {
    expectUl.innerHTML = ``
    let inputCity = document.getElementById('searchBar').value.toLowerCase()
    if (event.keyCode > 90 ||event.keyCode < 65 ) {
        lowerCaseNames = filterdList
        for (let i in inputCity) {
        lowerCaseNames =  lowerCaseNames.filter(c => {
            return (c[i] == inputCity[i])
        })
        }
        for (let i in lowerCaseNames) {
            if (i <= 3) {
                expectUl.innerHTML += `
                <li onclick="getCity(${filterdList.indexOf(lowerCaseNames[i])})" class="expectLi">${cityNamesList[filterdList.indexOf(lowerCaseNames[i])]}</li>
                `
            }
        }
    } else {
        
        lowerCaseNames = filterdList
        for (let i in inputCity) {
        lowerCaseNames =  lowerCaseNames.filter(c => {
            return (c[i] == inputCity[i])
        })
        }
        for (let i in lowerCaseNames) {
            if (i <= 3) {
                expectUl.innerHTML += `
                <li onclick="getCity(${filterdList.indexOf(lowerCaseNames[i])})" class="expectLi">${cityNamesList[filterdList.indexOf(lowerCaseNames[i])]}</li>
                `
            }
        }
    }
}


let cityNameEl = document.querySelector('.cityName')
let tempMainEl = document.querySelector('.tempMain')
let tempDegreeEl = document.querySelector('.tempDegree')
let feelLikeEl = document.querySelector('.feelLike')
let cloudsEl = document.querySelector('.clouds')
let clockTimeEl = document.querySelector('.clock-time')
let clockDateEl = document.querySelector('.clock-date')

let fellsTempInC;
let fellsTempInF;

let tempInC;
let tempInF;


let tempUnit = 'c'

let clockInterval;
async function getCity(index, latit, longit) {
    clearInterval(clockInterval)
    cityNameEl.innerHTML = 'Loading...'
    tempMainEl.innerHTML = 'Loading...'
    tempDegreeEl.innerHTML = 'Loading...'
    feelLikeEl.innerHTML = 'Loading...'
    cloudsEl.innerHTML = 'Loading...'
    clockTimeEl.innerHTML = 'Loading...'
    clockDateEl.innerHTML = ''
    let lat;
    let lon;
    if (latit && longit && index == null) {
        lat = latit
        lon = longit
    } else {
        lat = cityLatList[index]
        lon = cityLngList[index]
    }
    // let api_key = '24b85d3674228337882df68cd32a9745'
    let api_key = '3e38d2721903c686baae7eab2180ef25'
    let url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${api_key}`
    let res = await fetch(url)
    let json = await res.json()
    tempInC = (Math.round(json['main']['temp'] - 273))
    tempInF = (Math.round((json['main']['temp'] - 273.15) * 9/5 + 32))
    fellsTempInC = (Math.round(json['main']['feels_like'] - 273))
    fellsTempInF = (Math.round((json['main']['feels_like'] - 273.15) * 9/5 + 32))
    let weatherMain = json['weather'][0]['main']
    let clouds = json['clouds']['all']
    // put in html elements
    tempMainEl.innerHTML = weatherMain
    if (tempUnit == 'c') {
        tempDegreeEl.innerHTML = tempInC + " c°"
        feelLikeEl.innerHTML = 'feels Like : ' + fellsTempInC + ' c°'
    } else {
        tempDegreeEl.innerHTML = tempInF + ' f°'
        feelLikeEl.innerHTML = 'feels Like : ' + fellsTempInF + ' f°'
    }
    cloudsEl.innerHTML = 'Clouds : ' +  clouds + "%"

    //* Put City Name
    if (latit && longit && index == null) {
        cityNameEl.innerHTML = json["name"]
        getTime(lat, lon, json["name"])
        clockInterval = setInterval(()=>{
            getTime(lat, lon, json["name"])
        }, 30000)
    }
    else {
        cityNameEl.innerHTML = cityNamesList[index]
        getTime(lat, lon, cityNamesList[index])
        clockInterval = setInterval(()=>{
            getTime(lat, lon, cityNamesList[index])
        }, 30000)
    }

}

function changeTemp(unit) {
    console.log("SNY")
    if (unit == tempUnit) {
        console.log(unit)
    } else {
        tempUnit = unit
        if (unit == 'c') {
            document.querySelector('.feh').classList.remove('activeTemp')
            document.querySelector('.feh').classList.remove('fehActive')
            document.querySelector('.cel').classList.add('activeTemp')
            document.querySelector('.cel').classList.add('celActive')
            tempDegreeEl.innerHTML = tempInC + " c°"
            feelLikeEl.innerHTML = 'feels Like : ' + fellsTempInC + ' c°'
        } else {
            tempDegreeEl.innerHTML = tempInF + ' f°'
            document.querySelector('.cel').classList.remove('activeTemp')
            document.querySelector('.cel').classList.remove('celActive')
            document.querySelector('.feh').classList.add('activeTemp')
            document.querySelector('.feh').classList.add('fehActive')
            feelLikeEl.innerHTML = 'feels Like : ' + fellsTempInF + ' f°'
        }
    }
}


let timeCity = ['none', 'none'];
async function getTime(lat, lon, currentCityName) { 
    if (timeCity[1] == currentCityName) {
        console.log('same')
        let time = (new Date().toLocaleString("en-US", {timeZone: timeCity.join('/')}))
        let timeArray = time.split(', ')
        clockTimeEl.innerHTML = timeArray[1]
        clockDateEl.innerHTML = timeArray[0]
        if (timeArray[1].indexOf('A') == -1) {// Night
            (document.querySelector('.bodyTag')).style = 'background-image: url("images/bg/night.jpg")'
        } else {// morning 
            (document.querySelector('.bodyTag')).style = 'background-image: url("images/bg/morning.jpg")'
        }
    } else {
        console.log('not same')
            try {
                let response = await fetch(`https://api.geoapify.com/v1/geocode/reverse?lat=${lat}&lon=${lon}&apiKey=e78ee3c1459742be8caee1caf1c941d6`)
                let json = await response.json()
                let localTimeZone = (json['features'][0]['properties']['timezone'])
                console.log(localTimeZone)
                let time = (new Date().toLocaleString("en-US", {timeZone: localTimeZone['name']}))
                let timeArray = time.split(', ')
                clockTimeEl.innerHTML = timeArray[1]
                clockDateEl.innerHTML = timeArray[0]
                timeCity = localTimeZone["name"].split("/")
                if (timeArray[1].indexOf('A') == -1) {// Night
                    (document.querySelector('.bodyTag')).style = 'background-image: url("images/bg/night.jpg")'
                } else {// morning 
                    (document.querySelector('.bodyTag')).style = 'background-image: url("images/bg/morning.jpg")'
                }}
            catch {console.log('a')
                clockTimeEl.innerHTML = "Error"
                clockDateEl.innerHTML = "" 
            }
    }
}
